!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},t.parcelRequired7c6=i),i("b3EoS"),i("3PD8C"),i("6VMVE"),i("ekC86");var a=i("eUV6u"),c=i("4WFAO"),s=i("b3EoS");i("6JpON");var l=document.querySelector(".category-list"),r=document.querySelector(".load"),d=document.querySelector(".loader");(0,a.fetchAllCategories)().then((function(e){d.classList.remove("is-hidden");var t=e.map((function(e){var t=e.list_name;return'<li class="category-list-item global-list light-theme theme-switch">'.concat(t,"</li>")})).join("");l.insertAdjacentHTML("beforeend",t);var n=document.querySelectorAll(".category-list-item");n.forEach((function(e){e.addEventListener("click",(function(){n.forEach((function(e){return e.classList.remove("active")})),this.classList.add("active")})),d.classList.remove("is-hidden")})),"light"===c.shopping_info.theme?(0,s.renderTheme)("light"):(0,s.renderTheme)("dark"),r.classList.add("unvisible")})).catch((function(e){console.log(e)}));var u=i("bpxeT"),g=i("2TvXO"),h=(a=i("eUV6u"),i("6VMVE"));c=i("4WFAO"),s=i("b3EoS");var m=document.querySelector(".category-list"),p=document.querySelector(".tb-container"),f=document.querySelector(".heading-primary"),b=document.querySelector("#allctgr"),v=document.querySelector(".loader");function y(){return(y=e(u)(e(g).mark((function t(n){var o,i,c,s,l,r,d,u;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.innerHTML="",v.classList.remove("is-hidden"),o=n.target.textContent,i=b.textContent,o!==i){e.next=8;break}p.innerHTML="",(0,a.fetchTopBooks)().then(x),s=(c="Best Sellers Books").split(" ").splice(0,c.split(" ").length-1).join(" "),l=c.split(" ")[c.split(" ").length-1],f.innerHTML="".concat(s,' <span class="colored-heading">').concat(l,"</span>"),e.next=18;break;case 8:return r=o.split(" ").splice(0,o.split(" ").length-1).join(" "),d=o.split(" ")[o.split(" ").length-1],f.innerHTML="".concat(r,' <span class="colored-heading">').concat(d,"</span>"),f.classList.add("ctg-maintitle"),p.classList.add("flex-container"),e.next=15,(0,a.fetchBooksByExactCategory)(o);case 15:u=e.sent,v.classList.add("is-hidden"),k(u);case 18:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function k(e){var t=e.data;p.innerHTML="";var n=t.map((function(e){e.list_name;var t=e.book_image,n=void 0===t?"https://bookcart.azurewebsites.net/Upload/Default_image.jpg":t,o=e.title,i=void 0===o?"title not available":o,a=e.author,c=void 0===a?"anonymous":a,s=(e.description,e._id);return'\n          <li class="flex-container-item">\n            <a href=# class="global-link" data-id="'.concat(s,'">\n              <div class="tb-book-card">\n                <img class="tb-book-img img" src="').concat(n,'" alt="').concat(i,'" loading="lazy">\n                <p class="tb-book-title light-theme theme-switch global-p">').concat(i,'</p>\n                <p class="tb-book-author global-p">').concat(c,"</p>\n              </div>\n            </a>\n          </li>")})).join("");p.innerHTML=n}v.classList.add("is-hidden"),m.addEventListener("click",(function(e){return y.apply(this,arguments)})),setTimeout((function(e){v.classList.add("is-hidden")}),2500);var L=document.querySelector(".no-books-card");function x(e){var t=e.data;if(0==t.length)L.classList.remove("is-hidden");else{var n=t.map((function(e){var t=e.list_name,n=e.books.map((function(e){e.list_name;var t=e.book_image,n=void 0===t?"https://bookcart.azurewebsites.net/Upload/Default_image.jpg":t,o=e.title,i=void 0===o?"title not available":o,a=e.author,c=void 0===a?"anonymous":a,s=(e.description,e._id);return'\n          <li class="flex-container-item">\n            <a href=# class="global-link" data-id="'.concat(s,'">\n              <div class="tb-book-card">\n                <img class="tb-book-img img" src="').concat(n,'" alt="').concat(i,'" loading="lazy">\n                <p class="tb-book-title light-theme theme-switch global-p">').concat(i,'</p>\n                <p class="tb-book-author global-p">').concat(c,"</p>\n              </div>\n            </a>\n          </li>\n          ")})).join("");return"\n      <li class=\"tb-category-container\">\n        <h2 class='tb-category global-title'>".concat(t,"</h2>\n        <div class='tb-books-container'>\n          <ul class=\"global-list flex-container hidden-books\">\n            ").concat(n,'\n          </ul>\n        </div>\n        <button class="tb-button global-button light-theme theme-switch">See more</button>\n      </li>\n      ')})).join("");v.classList.add("is-hidden"),p.insertAdjacentHTML("beforeend",n),"light"===c.shopping_info.theme?(0,s.renderTheme)("light"):(0,s.renderTheme)("dark"),(0,h.modalWindow)()}}function S(){return(S=e(u)(e(g).mark((function t(n){var o,i;return e(g).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.target.matches("button")){e.next=9;break}return o=n.target.closest(".tb-category-container").firstChild.nextSibling.textContent,i=n.target.closest(".tb-category-container").firstChild.nextSibling.nextSibling.nextSibling,e.next=5,(0,a.fetchBooksByExactCategory)(o);case 5:w(e.sent,i),n.target.classList.add("is-hidden"),v.classList.add("is-hidden");case 9:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function w(e,t){var n=e.data.map((function(e){e.list_name;var t=e.book_image,n=void 0===t?"https://bookcart.azurewebsites.net/Upload/Default_image.jpg":t,o=e.title,i=void 0===o?"title not available":o,a=e.author,c=void 0===a?"anonymous":a,s=(e.description,e._id);return'\n          <li class="flex-container-item">\n            <a href=# class="global-link" data-id="'.concat(s,'">\n              <div class="tb-book-card">\n                <img class="tb-book-img img" src="').concat(n,'" alt="').concat(i,'" loading="lazy">\n                <p class="tb-book-title light-theme theme-switch global-p">').concat(i,'</p>\n                <p class="tb-book-author global-p">').concat(c,"</p>\n              </div>\n            </a>\n          </li>")})).join(""),o='<ul class="global-list flex-container">\n            '.concat(n,"\n          </ul>");t.innerHTML=o,"light"===c.shopping_info.theme?(0,s.renderTheme)("light"):(0,s.renderTheme)("dark")}(0,a.fetchTopBooks)().then(x),p.addEventListener("click",(function(e){return S.apply(this,arguments)})),i("hDfHX"),i("eUV6u"),i("4WFAO");var T=i("fkNhc"),E=i("6JpON"),_=i("gQOBw"),j=(0,T.initializeApp)({apiKey:"AIzaSyDwpmuhImdY7RHC3U0YYZIshSlCJATjNaU",authDomain:"project-team-10-5792d.firebaseapp.com",projectId:"project-team-10-5792d",storageBucket:"project-team-10-5792d.appspot.com",messagingSenderId:"76240638065",appId:"1:76240638065:web:5518f239b638187e380bd0",measurementId:"G-CCNXH403RH"}),q=(0,_.getAuth)(j),C=(document.querySelector(".login-section"),q.currentUser,document.querySelector("#userProfileLoggedOut")),M=document.querySelector("#userProfileLoggedIn"),I=document.querySelector("#userProfileLoggedInk"),B=function(t){(0,_.signOut)(q).then((function(){e(E).Notify.success("You are signing out..."),setTimeout((function(){return window.location="https://millenialia.github.io/project-team-10-added-features/login.html"}),3e3)})).catch((function(t){t.code;var n=t.message;e(E).Notify.failure(n)}))},H=function(){(0,_.signOut)(q).then((function(){e(E).Notify.info("You are redirected to sign up..."),setTimeout((function(){return window.location="https://millenialia.github.io/project-team-10-added-features/sign-up.html"}),3e3)})).catch((function(t){t.code;var n=t.message;e(E).Notify.failure(n)}))};(0,_.onAuthStateChanged)(q,(function(e){null!==e?(console.log("User logged in."),C.classList.remove("is-active"),I.classList.add("is-active"),M.addEventListener("click",B)):(console.log("No user."),I.classList.remove("is-active"),C.classList.add("is-active"),C.addEventListener("click",H))}));var O=document.getElementById("userProfileLoggedInk"),A=document.getElementById("logoutModal"),N=document.getElementById("userProfileLoggedIn"),U=!1;O.addEventListener("click",(function(){U?(A.style.display="none",U=!1):(A.style.display="block",U=!0)})),N.addEventListener("click",logout),i("YM5EG")}();
//# sourceMappingURL=index.5972029e.js.map
