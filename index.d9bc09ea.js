function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},n={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in i)return i[e].exports;if(e in n){var t=n[e];delete n[e];var o={id:e,exports:{}};return i[e]=o,t.call(o.exports,o,o.exports),o.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},t.parcelRequired7c6=o),o("gyeM6"),o("9L2ks"),o("2hTmC"),o("8BGGW");var s=o("5DwtN"),a=o("jJ57b"),l=o("gyeM6");o("7Y9D8");const c=document.querySelector(".category-list"),r=document.querySelector(".load"),d=document.querySelector(".loader");(0,s.fetchAllCategories)().then((e=>{d.classList.remove("is-hidden");const t=e.map((({list_name:e})=>`<li class="category-list-item global-list light-theme theme-switch">${e}</li>`)).join("");c.insertAdjacentHTML("beforeend",t);const i=document.querySelectorAll(".category-list-item");i.forEach((e=>{e.addEventListener("click",(function(){i.forEach((e=>e.classList.remove("active"))),this.classList.add("active")})),d.classList.remove("is-hidden")})),"light"===a.shopping_info.theme?(0,l.renderTheme)("light"):(0,l.renderTheme)("dark"),r.classList.add("unvisible")})).catch((e=>{console.log(e)}));s=o("5DwtN");var g=o("2hTmC");a=o("jJ57b"),l=o("gyeM6");const u=document.querySelector(".category-list"),m=document.querySelector(".tb-container"),h=document.querySelector(".heading-primary"),p=document.querySelector("#allctgr"),b=document.querySelector(".loader");b.classList.add("is-hidden"),u.addEventListener("click",(async function(e){m.innerHTML="",b.classList.remove("is-hidden");const t=e.target.textContent,i=p.textContent;if(t===i){m.innerHTML="",(0,s.fetchTopBooks)().then(y);const e="Best Sellers Books",t=e.split(" ").splice(0,e.split(" ").length-1).join(" "),i=e.split(" ")[e.split(" ").length-1];h.innerHTML=`${t} <span class="colored-heading">${i}</span>`}else{const e=t.split(" ").splice(0,t.split(" ").length-1).join(" "),i=t.split(" ")[t.split(" ").length-1];h.innerHTML=`${e} <span class="colored-heading">${i}</span>`,h.classList.add("ctg-maintitle"),m.classList.add("flex-container");const n=await(0,s.fetchBooksByExactCategory)(t);b.classList.add("is-hidden"),function({data:e}){m.innerHTML="";const t=e.map((({list_name:e,book_image:t="https://bookcart.azurewebsites.net/Upload/Default_image.jpg",title:i="title not available",author:n="anonymous",description:o,_id:s})=>`\n          <li class="flex-container-item">\n            <a href=# class="global-link" data-id="${s}">\n              <div class="tb-book-card">\n                <img class="tb-book-img img" src="${t}" alt="${i}" loading="lazy">\n                <p class="tb-book-title light-theme theme-switch global-p">${i}</p>\n                <p class="tb-book-author global-p">${n}</p>\n              </div>\n            </a>\n          </li>`)).join("");m.innerHTML=t}(n)}})),setTimeout((e=>{b.classList.add("is-hidden")}),2500);const f=document.querySelector(".no-books-card");function y({data:e}){if(0==e.length)f.classList.remove("is-hidden");else{const t=e.map((({list_name:e,books:t})=>`\n      <li class="tb-category-container">\n        <h2 class='tb-category global-title'>${e}</h2>\n        <div class='tb-books-container'>\n          <ul class="global-list flex-container hidden-books">\n            ${t.map((({list_name:e,book_image:t="https://bookcart.azurewebsites.net/Upload/Default_image.jpg",title:i="title not available",author:n="anonymous",description:o,_id:s})=>`\n          <li class="flex-container-item">\n            <a href=# class="global-link" data-id="${s}">\n              <div class="tb-book-card">\n                <img class="tb-book-img img" src="${t}" alt="${i}" loading="lazy">\n                <p class="tb-book-title light-theme theme-switch global-p">${i}</p>\n                <p class="tb-book-author global-p">${n}</p>\n              </div>\n            </a>\n          </li>\n          `)).join("")}\n          </ul>\n        </div>\n        <button class="tb-button global-button light-theme theme-switch">See more</button>\n      </li>\n      `)).join("");b.classList.add("is-hidden"),m.insertAdjacentHTML("beforeend",t),"light"===a.shopping_info.theme?(0,l.renderTheme)("light"):(0,l.renderTheme)("dark"),(0,g.modalWindow)()}}(0,s.fetchTopBooks)().then(y),m.addEventListener("click",(async function(e){if(e.target.matches("button")){let t=e.target.closest(".tb-category-container").firstChild.nextSibling.textContent,i=e.target.closest(".tb-category-container").firstChild.nextSibling.nextSibling.nextSibling;!function({data:e},t){const i=`<ul class="global-list flex-container">\n            ${e.map((({list_name:e,book_image:t="https://bookcart.azurewebsites.net/Upload/Default_image.jpg",title:i="title not available",author:n="anonymous",description:o,_id:s})=>`\n          <li class="flex-container-item">\n            <a href=# class="global-link" data-id="${s}">\n              <div class="tb-book-card">\n                <img class="tb-book-img img" src="${t}" alt="${i}" loading="lazy">\n                <p class="tb-book-title light-theme theme-switch global-p">${i}</p>\n                <p class="tb-book-author global-p">${n}</p>\n              </div>\n            </a>\n          </li>`)).join("")}\n          </ul>`;t.innerHTML=i,"light"===a.shopping_info.theme?(0,l.renderTheme)("light"):(0,l.renderTheme)("dark")}(await(0,s.fetchBooksByExactCategory)(t),i),e.target.classList.add("is-hidden"),b.classList.add("is-hidden")}})),o("jqvOP"),o("5DwtN"),o("jJ57b");var k=o("gKkQl"),L=o("7Y9D8"),v=o("eyjy7");const w=(0,k.initializeApp)({apiKey:"AIzaSyDwpmuhImdY7RHC3U0YYZIshSlCJATjNaU",authDomain:"project-team-10-5792d.firebaseapp.com",projectId:"project-team-10-5792d",storageBucket:"project-team-10-5792d.appspot.com",messagingSenderId:"76240638065",appId:"1:76240638065:web:5518f239b638187e380bd0",measurementId:"G-CCNXH403RH"}),T=(0,v.getAuth)(w),j=(document.querySelector(".login-section"),T.currentUser,document.querySelector("#userProfileLoggedOut")),S=document.querySelector("#userProfileLoggedIn"),$=document.querySelector("#userProfileLoggedInk"),_=t=>{(0,v.signOut)(T).then((()=>{e(L).Notify.success("You are signing out..."),setTimeout((()=>window.location="https://millenialia.github.io/project-team-10-added-features/login.html"),3e3)})).catch((t=>{t.code;const i=t.message;e(L).Notify.failure(i)}))},x=()=>{(0,v.signOut)(T).then((()=>{e(L).Notify.info("You are redirected to sign up..."),setTimeout((()=>window.location="https://millenialia.github.io/project-team-10-added-features/sign-up.html"),3e3)})).catch((t=>{t.code;const i=t.message;e(L).Notify.failure(i)}))};(0,v.onAuthStateChanged)(T,(e=>{null!==e?(console.log("User logged in."),j.classList.remove("is-active"),$.classList.add("is-active"),S.addEventListener("click",_)):(console.log("No user."),$.classList.remove("is-active"),j.classList.add("is-active"),j.addEventListener("click",x))}));const q=document.getElementById("userProfileLoggedInk"),C=document.getElementById("logoutModal"),E=document.getElementById("userProfileLoggedIn");let M=!1;q.addEventListener("click",(function(){M?(C.style.display="none",M=!1):(C.style.display="block",M=!0)})),E.addEventListener("click",logout),o("irreK");
//# sourceMappingURL=index.d9bc09ea.js.map
